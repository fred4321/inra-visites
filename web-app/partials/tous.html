<div class="row">
    <div class="col-lg-12 hidden-print action-barre">
        <action print-view="true" export-view="true" reload-view="true" reload-action="reload" export-action="csv" csv-name="TousAgentsVM"></action>
    </div>
    <div class="col-md-12">
        <div ng-if="loading" class="loading glyphicon glyphicon-refresh glyphicon-refresh-animate"></div>
        <table ng-table="agentT.ngTable"  show-filter="true" class="table table-condensed table-bordered table-hover table-striped" export-csv="csv">
            <tr ng-repeat="agent in $data">
                <td data-title="'Matricule'" filter="{'matricule':'text'}" sortable="'matricule'"><a class="openModal" ng-click="openAgent(agent.id)">{{agent.matricule}}</a></td>
                <td data-title="'INSEE'" filter="{'insee':'text'}" sortable="'insee'">{{agent.insee}}</td>
                <td data-title="'Nom'" filter="{'nom':'text'}" sortable="'nom'">{{agent.nom}}</td>
                <td data-title="'Prénom'" filter="{'prenom':'text'}" sortable="'prenom'">{{agent.prenom}}</td>
                <td data-title="'Dernière VM'" filter="{'vmDate':'text'}" sortable="'vmDate'">{{agent.vmDate|date}}</td>
                <td data-title="'Fiche de VM'" filter="{'vmID':'text'}" sortable="'vmID'"><a class="openModal" ng-click="openVM(agent.vmID)" ng-if="agent.vmID" >n° : {{agent.vmID}}</a></td>
                <td data-title="'Site'" filter="{'site':'select'}" filter-data="getSites()" sortable="'site'">{{agent.site}}</td>
                <td data-title="'Unité'" filter="{'unite':'select'}" filter-data="getUnites()" sortable="'unite'">{{agent.unite}}</td>
                <td data-title="'Périodicité'" filter="{'periodicite':'select'}" filter-data="getPeriodes()" sortable="'periodicite'">{{agent.periodicite}}</td>
            </tr>
        </table>
    </div>
    <inra-pagination total-items="totalItems" change-page="reload" change-items-per-pages="reload" params="pagination"></inra-pagination>
</div>